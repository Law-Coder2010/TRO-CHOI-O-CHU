<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√î Ch·ªØ B√≠ M·∫≠t - K·ªπ NƒÉng S·ªëng</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        input:focus { outline: none; }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-50 to-blue-50">
    <div class="max-w-7xl mx-auto p-6">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-5xl font-bold text-slate-800 mb-3">√î Ch·ªØ B√≠ M·∫≠t</h1>
            <p class="text-lg text-slate-600">K·ªπ NƒÉng S·ªëng & H∆∞·ªõng Nghi·ªáp</p>
        </div>

        <div class="grid lg:grid-cols-3 gap-6">
            <!-- B·∫£ng √¥ ch·ªØ -->
            <div class="lg:col-span-2">
                <div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-200">

                    <!-- Th√¥ng b√°o ƒë·ªông -->
                    <div id="feedback-message" class="mb-6 text-center py-4 rounded-xl text-2xl font-bold shadow-lg transition-all duration-300" style="display: none;">
                    </div>

                    <!-- L∆∞·ªõi √¥ ch·ªØ -->
                    <div class="overflow-x-auto mb-6">
                        <div id="grid-container"></div>
                    </div>

                    <!-- Th√¥ng b√°o ho√†n th√†nh -->
                    <div id="completion-message" class="hidden mb-6 bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-center py-5 rounded-xl text-2xl font-bold shadow-lg">
                        üéâ ·ªú M√¢y Zing G√∫t Ch√≥p E! üéâ
                    </div>

                    <!-- N√∫t ƒëi·ªÅu khi·ªÉn -->
                    <div class="flex gap-3 justify-center">
                        <button onclick="resetGame()" class="px-6 py-3 bg-slate-600 hover:bg-slate-700 text-white rounded-xl font-semibold shadow-md transition-all">
                             Ch∆°i l·∫°i
                        </button>
                        <button onclick="showAnswers()" class="px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold shadow-md transition-all">
                            Ô∏è Xem ƒë√°p √°n
                        </button>
                    </div>
                </div>
            </div>

            <!-- Danh s√°ch c√¢u h·ªèi -->
            <div class="lg:col-span-1">
                <div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-200">
                    <h2 class="text-xl font-bold text-slate-800 mb-4 pb-3 border-b border-gray-200">C√¢u h·ªèi</h2>
                    <div id="questions-list" class="space-y-3 max-h-[calc(100vh-200px)] overflow-y-auto"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const wrongMessages = ["Kh√™!", "Kh√≥ nha!", "Ph·∫£i ch·ªãu!", "OMG!", "Kh√¥ng ph·∫£i d·∫°ng v·ª´a ƒë√¢u!"];
        const correctMessages = ["Juan!", "Ngon lu√¥n!", "Nice!", "G√∫t ch√≥p!", "Dkap!"];
        
        const gameData = {
            verticalCol: 7,
            questions: [
                { num: 1, question: "K·ªπ nƒÉng gi√∫p h·ªçc sinh l√†m vi·ªác chung v√† h·ªó tr·ª£ l·∫´n nhau trong h·ªçc t·∫≠p l√† g√¨?", answer: "PHOIHOP", startCol: 1 },
                { num: 2, question: "∆Ø·ªõc m∆°, kh√°t v·ªçng m√† m·ªói ng∆∞·ªùi nu√¥i d∆∞·ª°ng cho t∆∞∆°ng lai g·ªçi l√† g√¨?", answer: "HOAIBAO", startCol: 7 },
                { num: 3, question: "Vi·ªác v·∫≠n d·ª•ng ki·∫øn th·ª©c, k·ªπ nƒÉng ƒë√£ h·ªçc v√†o th·ª±c t·∫ø h·ªçc t·∫≠p v√† cu·ªôc s·ªëng g·ªçi l√† g√¨?", answer: "APDUNG", startCol: 7 },
                { num: 4, question: "Ph·∫©m ch·∫•t gi√∫p h·ªçc sinh tin v√†o b·∫£n th√¢n khi giao ti·∫øp v√† h·ªçc t·∫≠p l√† g√¨?", answer: "TUTIN", startCol: 5 },
                { num: 5, question: "Qu√° tr√¨nh ho√†n thi·ªán b·∫£n th√¢n v·ªÅ nh·∫≠n th·ª©c, k·ªπ nƒÉng v√† nh√¢n c√°ch theo th·ªùi gian g·ªçi l√† g√¨?", answer: "TRUONGTHANH", startCol: 1 },
                { num: 6, question: "Ph·∫©m ch·∫•t gi√∫p con ng∆∞·ªùi b·ªÅn b·ªâ, kh√¥ng b·ªè cu·ªôc tr∆∞·ªõc kh√≥ khƒÉn l√† g√¨?", answer: "KIENTRI", startCol: 2 },
                { num: 7, question: "S·ª©c m·∫°nh tinh th·∫ßn gi√∫p con ng∆∞·ªùi v∆∞·ª£t qua th·ª≠ th√°ch ƒë·ªÉ ƒë·∫°t m·ª•c ti√™u l√† g√¨?", answer: "YCHI", startCol: 4 },
                { num: 8, question: "C√¥ng vi·ªác g·∫Øn b√≥ l√¢u d√†i, ph√π h·ª£p v·ªõi nƒÉng l·ª±c v√† ƒë·ªãnh h∆∞·ªõng t∆∞∆°ng lai c·ªßa m·ªói ng∆∞·ªùi g·ªçi l√† g√¨?", answer: "NGHENGHIEP", startCol: 4 },
                { num: 9, question: "T·ªïng h·ª£p c√°c kh·∫£ nƒÉng gi√∫p con ng∆∞·ªùi h·ªçc t·∫≠p v√† l√†m vi·ªác hi·ªáu qu·∫£ g·ªçi l√† g√¨?", answer: "NANGLUC", startCol: 5 }
            ]
        };

        let answers = gameData.questions.map(q => Array(q.answer.length).fill(''));
        let rowLocked = gameData.questions.map(() => false);

        function showFeedback(isCorrect) {
            const msgBox = document.getElementById('feedback-message');
            const messages = isCorrect ? correctMessages : wrongMessages;
            const randomMsg = messages[Math.floor(Math.random() * messages.length)];
            
            msgBox.textContent = randomMsg;
            msgBox.className = `mb-6 text-center py-4 rounded-xl text-2xl font-bold shadow-lg transition-all duration-300 ${
                isCorrect 
                    ? 'bg-gradient-to-r from-green-500 to-emerald-500 text-white' 
                    : 'bg-gradient-to-r from-red-500 to-rose-500 text-white'
            }`;
            msgBox.style.display = 'block';
            
            setTimeout(() => {
                msgBox.style.display = 'none';
            }, 1500);
        }

        function initGame() {
            renderGrid();
            renderQuestions();
        }

        function renderGrid() {
            const container = document.getElementById('grid-container');
            let html = '<table class="border-collapse"><tbody>';
            
            gameData.questions.forEach((q, qIndex) => {
                html += '<tr>';
                html += `<td class="pr-3 pb-2"><div class="w-9 h-9 flex items-center justify-center rounded-lg bg-blue-600 text-white font-bold text-base shadow-sm">${q.num}</div></td>`;
                
                for (let col = 0; col < 16; col++) {
                    const letterIndex = col - q.startCol;
                    if (letterIndex >= 0 && letterIndex < q.answer.length) {
                        const currentCol = q.startCol + letterIndex;
                        const isVertical = currentCol === gameData.verticalCol;
                        const bgColor = isVertical ? 'bg-amber-100 border-amber-300' : 'bg-white border-gray-300';
                        html += `<td class="p-0 pb-2">
                            <input type="text" maxlength="1" 
                                id="cell-${qIndex}-${letterIndex}"
                                data-col="${currentCol}"
                                onkeyup="handleInput(${qIndex}, ${letterIndex})"
                                class="w-10 h-10 border-2 text-center text-lg font-bold uppercase ${bgColor} focus:ring-2 focus:ring-blue-400 transition-all duration-300" />
                        </td>`;
                    } else {
                        html += '<td class="w-10 h-10 pb-2"></td>';
                    }
                }
                html += '</tr>';
            });
            
            html += '</tbody></table>';
            container.innerHTML = html;
        }

        function renderQuestions() {
            const container = document.getElementById('questions-list');
            let html = '';
            gameData.questions.forEach((q, index) => {
                html += `
                    <div class="p-3 bg-slate-50 rounded-lg border border-slate-200">
                        <div class="flex items-start gap-3">
                            <div class="w-8 h-8 flex items-center justify-center rounded-lg bg-blue-600 text-white font-bold text-sm flex-shrink-0">${q.num}</div>
                            <p class="text-sm text-slate-700 leading-relaxed">${q.question}</p>
                        </div>
                    </div>
                `;
            });
            container.innerHTML = html;
        }

        function handleInput(qIndex, letterIndex) {
            if (rowLocked[qIndex]) return;

            const cell = document.getElementById(`cell-${qIndex}-${letterIndex}`);
            const upperValue = cell.value.toUpperCase();
            
            cell.value = upperValue;
            answers[qIndex][letterIndex] = upperValue;
            
            const rowComplete = answers[qIndex].every(letter => letter !== '');
            
            if (rowComplete) {
                checkRow(qIndex);
            }
        }

        function checkRow(qIndex) {
            const userAnswer = answers[qIndex].join('');
            const correctAnswer = gameData.questions[qIndex].answer;
            const question = gameData.questions[qIndex];
            
            if (userAnswer === correctAnswer) {
                showFeedback(true);
                
                // ƒê√öNG - T√¥ m√†u xanh, nh∆∞ng √¥ d·ªçc m√†u v√†ng/cam ƒë·∫≠m
                for (let i = 0; i < question.answer.length; i++) {
                    const cell = document.getElementById(`cell-${qIndex}-${i}`);
                    const currentCol = question.startCol + i;
                    const isVertical = currentCol === gameData.verticalCol;
                    
                    if (isVertical) {
                        // √î c·ªôt d·ªçc - m√†u v√†ng/cam n·ªïi b·∫≠t
                        cell.className = 'w-10 h-10 border-2 text-center text-lg font-bold uppercase bg-amber-400 border-amber-600 text-amber-900 focus:ring-2 focus:ring-amber-400 transition-all duration-300';
                    } else {
                        // √î b√¨nh th∆∞·ªùng - m√†u xanh
                        cell.className = 'w-10 h-10 border-2 text-center text-lg font-bold uppercase bg-green-400 border-green-500 text-white focus:ring-2 focus:ring-green-400 transition-all duration-300';
                    }
                    cell.disabled = true;
                }
                rowLocked[qIndex] = true;
                checkCompletion();
            } else {
                showFeedback(false);
                
                // SAI - T√¥ m√†u ƒë·ªè
                for (let i = 0; i < question.answer.length; i++) {
                    const cell = document.getElementById(`cell-${qIndex}-${i}`);
                    cell.className = 'w-10 h-10 border-2 text-center text-lg font-bold uppercase bg-red-400 border-red-500 text-white focus:ring-2 focus:ring-red-400 transition-all duration-300';
                    cell.disabled = true;
                }
                
                setTimeout(() => {
                    for (let i = 0; i < question.answer.length; i++) {
                        const cell = document.getElementById(`cell-${qIndex}-${i}`);
                        cell.value = '';
                        cell.disabled = false;
                        const currentCol = question.startCol + i;
                        const isVertical = currentCol === gameData.verticalCol;
                        const bgColor = isVertical ? 'bg-amber-100 border-amber-300' : 'bg-white border-gray-300';
                        cell.className = `w-10 h-10 border-2 text-center text-lg font-bold uppercase ${bgColor} focus:ring-2 focus:ring-blue-400 transition-all duration-300`;
                        answers[qIndex][i] = '';
                    }
                }, 800);
            }
        }

        function checkCompletion() {
            const completed = gameData.questions.every((q, i) => 
                answers[i].join('') === q.answer
            );
            document.getElementById('completion-message').classList.toggle('hidden', !completed);
        }

        function resetGame() {
            answers = gameData.questions.map(q => Array(q.answer.length).fill(''));
            rowLocked = gameData.questions.map(() => false);
            
            gameData.questions.forEach((q, qIndex) => {
                for (let i = 0; i < q.answer.length; i++) {
                    const cell = document.getElementById(`cell-${qIndex}-${i}`);
                    if (cell) {
                        cell.value = '';
                        cell.disabled = false;
                        const currentCol = q.startCol + i;
                        const isVertical = currentCol === gameData.verticalCol;
                        const bgColor = isVertical ? 'bg-amber-100 border-amber-300' : 'bg-white border-gray-300';
                        cell.className = `w-10 h-10 border-2 text-center text-lg font-bold uppercase ${bgColor} focus:ring-2 focus:ring-blue-400 transition-all duration-300`;
                    }
                }
            });
            document.getElementById('completion-message').classList.add('hidden');
            document.getElementById('feedback-message').style.display = 'none';
        }

        function showAnswers() {
            gameData.questions.forEach((q, qIndex) => {
                answers[qIndex] = q.answer.split('');
                for (let i = 0; i < q.answer.length; i++) {
                    const cell = document.getElementById(`cell-${qIndex}-${i}`);
                    if (cell) {
                        cell.value = q.answer[i];
                        const currentCol = q.startCol + i;
                        const isVertical = currentCol === gameData.verticalCol;
                        
                        if (isVertical) {
                            // √î c·ªôt d·ªçc - m√†u v√†ng/cam
                            cell.className = 'w-10 h-10 border-2 text-center text-lg font-bold uppercase bg-amber-400 border-amber-600 text-amber-900 transition-all duration-300';
                        } else {
                            // √î b√¨nh th∆∞·ªùng - m√†u xanh
                            cell.className = 'w-10 h-10 border-2 text-center text-lg font-bold uppercase bg-green-400 border-green-500 text-white transition-all duration-300';
                        }
                        cell.disabled = true;
                    }
                }
                rowLocked[qIndex] = true;
            });
            checkCompletion();
        }

        initGame();
    </script>
</body>
</html>
